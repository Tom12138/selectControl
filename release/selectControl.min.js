function SelectControl(){var t,e,l,n,s=100,i=[],a=!1;this.init=function(o){function c(){var n=h.find("li"),s="",a="";i=[];for(var o=0;o<n.length;o++){var c=$(n[o]);if(c.hasClass("sc_selected")){var d={};d.id=c.val(),d.value=c.html(),s=s+c.html()+",",a=a+c.val()+",",i.push(d),t.find("option[value="+c.val()+"]").attr("selected",!0)}else t.find("option[value="+c.val()+"]").attr("selected",!1)}s=s.substr(0,s.length-1),a=a.substr(0,a.length-1),e=a,l=s,u.html(s),u.attr("value",a)}t=$(o),t.hide();t.find("option:selected");a=t.attr("multiple")?t.attr("multiple"):!1;var d,r=t.siblings(".selectControlBox");r.length>0?(d=r.eq(0),d.empty()):d=$("<div class='selectControlBox'></div>"),d.width(t.width());var u=$("<span class='selectControlBtn'></span>"),p=$("<div class='listCon'></div>");p.width(t.width()-2);for(var v=$('<div class="inputCon"><input type="text"></div>'),h=$("<ul></ul>"),f=t.find("option"),g=0;g<f.length;g++){$(f[g]).val();var C=$("<li value='"+$(f[g]).val()+"'>"+$(f[g]).text()+"</li>");$(f[g]).prop("selected")&&C.addClass("sc_selected"),h.append(C),function(){var t=C;t.on("click",function(e){e.stopPropagation(),a?t.hasClass("sc_selected")?t.removeClass("sc_selected"):t.addClass("sc_selected"):(h.find("li").removeClass("sc_selected"),t.addClass("sc_selected")),c()})}()}c(),u.on("click",function(t){t.stopPropagation(),p.is(":hidden")?(p.slideDown(s),$(document).on("click",function(){p.slideUp(s),$(document).off("click",document)})):p.slideUp(s)});var m=v.find("input");m.on("input propertychange",function(){for(var t=$(this).val(),e=h.find("li"),l=0;l<e.length;l++){var n=$(e[l]);-1!=n.html().indexOf(t)?n.show():n.hide()}}).on("click",function(t){t.stopPropagation()}),p.append(v,h),d.append(u,p),t.parent().append(d),n=d},this.getValue=function(){return e},this.getLable=function(){return l},this.getAllValue=function(){return i},this.resetSelect=function(){n.find(".listCon ul li").removeClass("sc_selected");var t=n.find(".selectControlBtn"),l="",s="";l=l.substr(0,l.length-1),s=s.substr(0,s.length-1),e=s,t.html(l),t.attr("value",s)}}